<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <title>Home - Documentation</title>

    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="https://code.ionicframework.com/ionicons/2.0.1/css/ionicons.min.css">
    <link type="text/css" rel="stylesheet" href="styles/prettify-tomorrow.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc-default.css">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav>
    <h2><a href="index.html">Home</a></h2><h3>Classes</h3><ul><li><a href="FilesystemRepositoryManager.html">FilesystemRepositoryManager</a><ul class='methods'><li data-type='method'><a href="FilesystemRepositoryManager.html#.addRepository">addRepository</a></li><li data-type='method'><a href="FilesystemRepositoryManager.html#.createRepository">createRepository</a></li><li data-type='method'><a href="FilesystemRepositoryManager.html#.exists">exists</a></li><li data-type='method'><a href="FilesystemRepositoryManager.html#.get_sub_directories">get_sub_directories</a></li><li data-type='method'><a href="FilesystemRepositoryManager.html#.scan">scan</a></li><li data-type='method'><a href="FilesystemRepositoryManager.html#.scanAll">scanAll</a></li></ul></li><li><a href="GitRepositoryManager.html">GitRepositoryManager</a><ul class='methods'><li data-type='method'><a href="GitRepositoryManager.html#.addRepository">addRepository</a></li><li data-type='method'><a href="GitRepositoryManager.html#.checkoutBranch">checkoutBranch</a></li><li data-type='method'><a href="GitRepositoryManager.html#.createRepository">createRepository</a></li><li data-type='method'><a href="GitRepositoryManager.html#.exists">exists</a></li><li data-type='method'><a href="GitRepositoryManager.html#.get_sub_directories">get_sub_directories</a></li><li data-type='method'><a href="GitRepositoryManager.html#.getBranches">getBranches</a></li><li data-type='method'><a href="GitRepositoryManager.html#.getCurrentBranch">getCurrentBranch</a></li><li data-type='method'><a href="GitRepositoryManager.html#.isGitRepository">isGitRepository</a></li><li data-type='method'><a href="GitRepositoryManager.html#.mergeBranches">mergeBranches</a></li><li data-type='method'><a href="GitRepositoryManager.html#.mergeBranches">mergeBranches</a></li><li data-type='method'><a href="GitRepositoryManager.html#.scan">scan</a></li><li data-type='method'><a href="GitRepositoryManager.html#.scanAll">scanAll</a></li><li data-type='method'><a href="GitRepositoryManager.html#.update">update</a></li></ul></li><li><a href="MediaRepositoryManager.html">MediaRepositoryManager</a><ul class='methods'><li data-type='method'><a href="MediaRepositoryManager.html#.exists">exists</a></li><li data-type='method'><a href="MediaRepositoryManager.html#.fetchCoreRepository">fetchCoreRepository</a></li><li data-type='method'><a href="MediaRepositoryManager.html#.getRepositoriesNode">getRepositoriesNode</a></li><li data-type='method'><a href="MediaRepositoryManager.html#.getRepositoryNames">getRepositoryNames</a></li><li data-type='method'><a href="MediaRepositoryManager.html#.getRepositoryPath">getRepositoryPath</a></li><li data-type='method'><a href="MediaRepositoryManager.html#.getType">getType</a></li><li data-type='method'><a href="MediaRepositoryManager.html#.remove">remove</a></li><li data-type='method'><a href="MediaRepositoryManager.html#.scanAll">scanAll</a></li><li data-type='method'><a href="MediaRepositoryManager.html#.scanAll">scanAll</a></li><li data-type='method'><a href="MediaRepositoryManager.html#.update">update</a></li></ul></li><li><a href="module-connector-Connector.html">Connector</a><ul class='methods'><li data-type='method'><a href="module-connector-Connector.html#connect">connect</a></li><li data-type='method'><a href="module-connector-Connector.html#getDataType">getDataType</a></li><li data-type='method'><a href="module-connector-Connector.html#getId">getId</a></li><li data-type='method'><a href="module-connector-Connector.html#getPath">getPath</a></li><li data-type='method'><a href="module-connector-Connector.html#getProtoKey">getProtoKey</a></li></ul></li><li><a href="Node.html">Node</a><ul class='methods'><li data-type='method'><a href="Node.html#.addChild">addChild</a></li><li data-type='method'><a href="Node.html#.addNode">addNode</a></li><li data-type='method'><a href="Node.html#.firstChild">firstChild</a></li><li data-type='method'><a href="Node.html#.get">get</a></li><li data-type='method'><a href="Node.html#.getChild">getChild</a></li><li data-type='method'><a href="Node.html#.getChildNames">getChildNames</a></li><li data-type='method'><a href="Node.html#.getOrCreateNode">getOrCreateNode</a></li><li data-type='method'><a href="Node.html#.getParent">getParent</a></li><li data-type='method'><a href="Node.html#.getPath">getPath</a></li><li data-type='method'><a href="Node.html#.getRoot">getRoot</a></li><li data-type='method'><a href="Node.html#.hasChild">hasChild</a></li><li data-type='method'><a href="Node.html#.removeChild">removeChild</a></li><li data-type='method'><a href="Node.html#.set">set</a></li><li data-type='method'><a href="Node.html#.toString">toString</a></li></ul></li><li><a href="Root.html">Root</a><ul class='methods'><li data-type='method'><a href="Root.html#.createRecursive">createRecursive</a></li><li data-type='method'><a href="Root.html#.findNode">findNode</a></li><li data-type='method'><a href="Root.html#contains">contains</a></li></ul></li><li><a href="TextureManager.html">TextureManager</a><ul class='methods'><li data-type='method'><a href="TextureManager.html#scan">scan</a></li></ul></li><li><a href="TreeClient.html">TreeClient</a><ul class='methods'><li data-type='method'><a href="TreeClient.html#branchMediaRepository">branchMediaRepository</a></li><li data-type='method'><a href="TreeClient.html#callEndpoint">callEndpoint</a></li><li data-type='method'><a href="TreeClient.html#clientWindowFullscreen">clientWindowFullscreen</a></li><li data-type='method'><a href="TreeClient.html#clientWindowMaximize">clientWindowMaximize</a></li><li data-type='method'><a href="TreeClient.html#clientWindowMinimize">clientWindowMinimize</a></li><li data-type='method'><a href="TreeClient.html#clientWindowRestore">clientWindowRestore</a></li><li data-type='method'><a href="TreeClient.html#connectInstance">connectInstance</a></li><li data-type='method'><a href="TreeClient.html#createEndpoint">createEndpoint</a></li><li data-type='method'><a href="TreeClient.html#createInstance">createInstance</a></li><li data-type='method'><a href="TreeClient.html#createMediaRepository">createMediaRepository</a></li><li data-type='method'><a href="TreeClient.html#getAllInstances">getAllInstances</a></li><li data-type='method'><a href="TreeClient.html#getEndpointUrl">getEndpointUrl</a></li><li data-type='method'><a href="TreeClient.html#getInstance">getInstance</a></li><li data-type='method'><a href="TreeClient.html#readHJsonConfig">readHJsonConfig</a></li><li data-type='method'><a href="TreeClient.html#readTOMLConfig">readTOMLConfig</a></li><li data-type='method'><a href="TreeClient.html#removeInstance">removeInstance</a></li><li data-type='method'><a href="TreeClient.html#removeMediaRepository">removeMediaRepository</a></li><li data-type='method'><a href="TreeClient.html#scanMediaRepositories">scanMediaRepositories</a></li><li data-type='method'><a href="TreeClient.html#shutdownFlex">shutdownFlex</a></li><li data-type='method'><a href="TreeClient.html#startAllInstances">startAllInstances</a></li><li data-type='method'><a href="TreeClient.html#startInstance">startInstance</a></li><li data-type='method'><a href="TreeClient.html#stopAllInstances">stopAllInstances</a></li><li data-type='method'><a href="TreeClient.html#stopInstance">stopInstance</a></li><li data-type='method'><a href="TreeClient.html#synchronizeInstance">synchronizeInstance</a></li><li data-type='method'><a href="TreeClient.html#updateMediaRepository">updateMediaRepository</a></li></ul></li></ul><h3>Modules</h3><ul><li><a href="api%250AThe%2520RESTful%2520API%2520that%2520drives%2520flex.%250A%250ATODO_%2520swagger%2520documentation,%2520see%2520https___www.npmjs.com_package_swagger-jsdocmodule_.html">api
The RESTful API that drives flex.

TODO: swagger documentation, see https://www.npmjs.com/package/swagger-jsdoc</a></li><li><a href="context%250AProvides%2520an%2520application%2520context.module_.html">context
Provides an application context.</a></li><li><a href="media%250AProvides%2520media%2520management%2520functionalities.module_.html">media
Provides media management functionalities.</a></li><li><a href="module-connector.html">connector</a></li><li><a href="module-inexor-plugins_hjsonreader.html">inexor-plugins/hjsonreader</a></li><li><a href="module-inexor-plugins_tomlreader.html">inexor-plugins/tomlreader</a><ul class='methods'><li data-type='method'><a href="module-inexor-plugins_tomlreader.html#~isInMediaOrConfigDirectory">isInMediaOrConfigDirectory</a></li><li data-type='method'><a href="module-inexor-plugins_tomlreader.html#~readConfigFile">readConfigFile</a></li><li data-type='method'><a href="module-inexor-plugins_tomlreader.html#~withinDirectory">withinDirectory</a></li></ul></li><li><a href="module-manager.html">manager</a><ul class='methods'><li data-type='method'><a href="module-manager.html#~create">create</a></li><li data-type='method'><a href="module-manager.html#~start">start</a></li><li data-type='method'><a href="module-manager.html#~stop">stop</a></li></ul></li><li><a href="path%250A__%2520TODO_%2520Might%2520be%2520better%2520called%2520inexor-game_defaultsmodule_.html">path
// TODO: Might be better called inexor-game/defaults</a><ul class='methods'><li data-type='method'><a href="path%25250A__%252520TODO_%252520Might%252520be%252520better%252520called%252520inexor-game_defaultsmodule_.html#~getBasePath">getBasePath</a></li><li data-type='method'><a href="path%25250A__%252520TODO_%252520Might%252520be%252520better%252520called%252520inexor-game_defaultsmodule_.html#~getConfigPaths">getConfigPaths</a></li><li data-type='method'><a href="path%25250A__%252520TODO_%252520Might%252520be%252520better%252520called%252520inexor-game_defaultsmodule_.html#~getMediaPaths">getMediaPaths</a></li></ul></li><li><a href="tree%250AProvides%2520generic%2520methods%2520to%2520work%2520treesmodule_.html">tree
Provides generic methods to work trees</a></li><li><a href="treeclient%250AProvides%2520a%2520client%2520for%2520accessing%2520a%2520local%2520or%2520remote%2520Inexor%2520Tree%2520via%2520REST%2520API.module_.html">treeclient
Provides a client for accessing a local or remote Inexor Tree via REST API.</a></li><li><a href="types%250AConverts%2520Core%2520types%2520to%2520JavaScript%250ANOTE_%2520Requires%2520--harmony%2520flag%2520on%2520Node%2520_%25207.2.1module_.html">types
Converts Core types to JavaScript
NOTE: Requires --harmony flag on Node < 7.2.1</a><ul class='methods'><li data-type='method'><a href="types%25250AConverts%252520Core%252520types%252520to%252520JavaScript%25250ANOTE_%252520Requires%252520--harmony%252520flag%252520on%252520Node%252520_%2525207.2.1module_.html#~getDataType">getDataType</a></li><li data-type='method'><a href="types%25250AConverts%252520Core%252520types%252520to%252520JavaScript%25250ANOTE_%252520Requires%252520--harmony%252520flag%252520on%252520Node%252520_%2525207.2.1module_.html#~isInt">isInt</a></li></ul></li></ul><h3>Global</h3><ul><li><a href="global.html#isValidDataType">isValidDataType</a></li><li><a href="global.html#media_types">media_types</a></li><li><a href="global.html#repository_types">repository_types</a></li><li><a href="global.html#separator">separator</a></li><li><a href="global.html#validName">validName</a></li></ul>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><h1>Inexor Flex</h1><p>Inexor Flex is platform for managing Inexor Core instances and the Inexor Tree API and provides a scripting environment for servers and clients. Inexor Flex also makes multiple user interfaces using web technologies available.</p>
<h2>Architecture</h2><ul>
<li>https://github.com/inexor-game/code/wiki/Overall-Architecture</li>
<li>https://github.com/inexor-game/code/issues/354</li>
<li>https://github.com/inexor-game/code/issues/348</li>
</ul>
<h2>Webserver</h2><ul>
<li>Exposes the Inexor Tree API via REST/JSON</li>
<li>Provides multiple web applications (HTML5/JS/CSS)</li>
</ul>
<h2>Web Applications (HTML5/JS/CSS)</h2><ul>
<li>Inexor Flex User Interface</li>
<li>Inexor Core (Client) Menu &amp; Application</li>
<li>Inexor Core (Client) HUD</li>
<li>Inexor Core (Server) User Interface</li>
</ul>
<h2>Inexor Tree Client</h2><ul>
<li>Communication to an local or remote instance of Inexor Flex using the Inexor Tree API via REST</li>
</ul>
<h2>Business Logic</h2><ul>
<li>Inexor Tree API</li>
<li>Texture-Manager</li>
<li>Map-Manager</li>
<li>Media-Manager (Music, Sound, Videos)</li>
<li>Server-List-Manager</li>
</ul>
<h2>Configuration Management</h2><ul>
<li>Reads/writes configuration files from disk / database</li>
<li>Reads configuration from command line parameters</li>
<li>Populates the Inexor Tree</li>
</ul>
<h2>Manages Inexor Core instances</h2><ul>
<li>Creates, starts, stops and destroys instances of <code>Inexor Core</code></li>
</ul>
<h2>Operating System Bindings</h2><ul>
<li>Command line arguments parsing</li>
<li>URI-Scheme</li>
<li>Tray icon</li>
<li>Notifications</li>
</ul>
<h1>Implementation guide</h1><h2>Styleguide</h2><p>The coding style-guide proposed by <a href="https://github.com/airbnb/javascript">Airbnb</a> is desirable.
Since by default <code>node &gt;=6.9.1</code> is required, most <code>ES6</code> features will work.
Alternately, consider <a href="http://node.green/">node.green</a> for reference.</p>
<h2>Design guideline</h2><p>The Inexor Flex has been designed to be as flexible as possible, therefore following a straight design guide:</p>
<ul>
<li>everything, if possible, is a module</li>
<li>loosely-coupled components (such as plugins) are wired using <a href="https://github.com/jaredhanson/electrolyte">electrolyte</a></li>
<li>by default unit tests with mocha are done for any file that matches <code>*_test.js</code>, though it is highly recommended to add a <code>test</code> folder to your module</li>
<li>by default documentation is done using JSDoc. don't break that.</li>
<li>if necessary (for important or big modules), we urge that you add a separate <code>README.md</code> to the respective module</li>
<li>we preserve to <em>force</em> the style-guide in the future</li>
</ul>
<h2>The core implementation</h2><p>Flex necessarily can't be decoupled as a whole, therefore the core implementation is splitted among the following parts:</p>
<ul>
<li><code>server/</code> containing the webserver and RESTfull API<ul>
<li><code>index.js</code> wires up everything and takes care of the <code>cli</code></li>
</ul>
</li>
<li><code>src/</code> containing essential modules<ul>
<li><code>src/tree/</code> contains extensive functions to work with binary trees (<em>&quot;the root of evil&quot;</em>)</li>
<li><code>src/connector</code> is the gateway to an instance of Inexor Core</li>
<li><code>src/manager</code> manages Inexor Core instances</li>
<li><code>src/configurator</code> reads configuration files and provides them to the game</li>
</ul>
</li>
</ul>
<p>Since those components tightly couple each other, and <em>must</em> work in order to start the game, components from <code>src</code> usually are <em>hard-loaded</em> via <code>require</code>. This in turn means that in order to hook into the API, code must be added manually.</p>
<h2>The RESTfull API</h2><p>Documentation shall be done via swagger as soon as the <code>v3 spec</code> is released, which brings <code>AnyOf</code> support.
In the meantime please have a look at <a href="https://github.com/OAI/OpenAPI-Specification/pull/741">api/v1</a>.The comments should be sufficient.</p>
<h2>Writing plugins</h2><p>Have a look at the <a href="/plugins/README.md">plugin documentation</a>.</p>
<h2>Flex won't start, resolving conflicts with the module manager</h2><p>If Inexor Flex won't start for strange reasons the most likely reason is that you've worked with a earlier revision in which the dependencies weren't at all ready.
By that case you'll most likely get the <code>master</code> branch running again following down these steps:</p>
<ul>
<li><code>unlink</code> any globally <code>linked</code> module with <code>sudo npm unlink @inexor-game/modulename</code></li>
<li>delete <em>all</em> <code>node_modules</code> folders using e,g: <code>rm -r */node_modules &amp;&amp; rm -r */*/node_modules</code></li>
<li>install the app again after all with <code>npm install</code>, which can take some time (the modules are small, but in a central dependency root they're quiet a bummer)</li>
</ul>
<h1>TODO</h1><p>Following is still undone:</p>
<ul>
<li>[x] complete the <a href="/plugins/index.js">plugin framework</a></li>
<li>[ ] complete the <a href="/src/configurator/index.js">TOML configurator</a></li>
<li>[ ] add extensive command line arguments to <code>./flex</code> <a href="https://github.com/inexor-game/code/wiki/Command%20Line%20Options%20And%20Commands">as described in the wiki</a></li>
<li>[x] fix the documentation</li>
<li>[ ] add a task to automagically reinstall modules once they are changed (for development)</li>
<li>[ ] test everything extensively, fix passages that are marked with TODO (and add unit tests!)</li>
<li>[ ] glue together UI, Flex and Core with submodules, see <a href="https://github.com/inexor-game/code/issues/360">this issue</a></li>
<li>[ ] add a <code>snapcraft.yaml</code> to package flex independently</li>
</ul></article>
    </section>






</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.4.3</a> on Thu Jan 19 2017 23:51:57 GMT+0100 (CET) using the Minami theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>
</body>
</html>